set(HOMEPAGE "https://github.com/GPUOpen-LibrariesAndSDKs/RadeonProRenderUSD")

set(CPACK_PACKAGE_DESCRIPTION_SUMMARY "Radeon ProRender USD Hydra rendering delegate")
set(CPACK_PACKAGE_VENDOR "AMD")
set(CPACK_PACKAGE_DESCRIPTION_FILE "${CMAKE_CURRENT_SOURCE_DIR}/readme.txt")
set(CPACK_RESOURCE_FILE_README "${CMAKE_CURRENT_SOURCE_DIR}/readme.txt")
set(CPACK_RESOURCE_FILE_LICENSE "${CMAKE_CURRENT_SOURCE_DIR}/license.txt")
set(CPACK_PACKAGE_VERSION_MAJOR "${HD_RPR_MAJOR_VERSION}")
set(CPACK_PACKAGE_VERSION_MINOR "${HD_RPR_MINOR_VERSION}")
set(CPACK_PACKAGE_VERSION_PATCH "${HD_RPR_PATCH_VERSION}")
if(RPR_BUILD_AS_HOUDINI_PLUGIN)
    set(CPACK_INSTALL_TARGET "Houdini")
else()
    set(CPACK_INSTALL_TARGET "USD")
endif()
set(CPACK_PACKAGE_NAME hdRpr-${CPACK_INSTALL_TARGET})

if(WIN32 AND NOT UNIX)
    set(CPACK_GENERATOR "NSIS")
    set(CPACK_NSIS_CONTACT "Brian.Savery@amd.com")
    set(CPACK_NSIS_MODIFY_PATH OFF)
    set(CPACK_NSIS_INSTALL_ROOT "\$PROGRAMFILES64\\\\Side Effects Software")
    set(CPACK_PACKAGE_INSTALL_DIRECTORY "")
    set(CPACK_NSIS_DISPLAY_NAME "hdRpr")
    set(CPACK_NSIS_PACKAGE_NAME "hdRpr")
    set(CPACK_NSIS_MENU_LINKS "${HOMEPAGE}" "Home Page")
    set(CPACK_NSIS_URL_INFO_ABOUT "${HOMEPAGE}")
    set(CPACK_NSIS_HELP_LINK "${HOMEPAGE}")
    list(APPEND CMAKE_MODULE_PATH ${CMAKE_CURRENT_SOURCE_DIR})
elseif(APPLE)
    set(CPACK_GENERATOR "STGZ")
endif()

include(CPack)
